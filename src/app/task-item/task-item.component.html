<div class="task-item-container">
  <h2>{{ title }}</h2>
  <p>{{ description }}</p>
  <span>–°–ª–æ–∂–Ω–æ—Å—Ç—å:</span>
  <span [ngSwitch]="difficulty">
    <span *ngSwitchCase="'easy'">üü¢ –õ–µ–≥–∫–æ</span>
    <span *ngSwitchCase="'medium'">üü° –°—Ä–µ–¥–Ω–µ</span>
    <span *ngSwitchCase="'hard'">üî¥ –°–ª–æ–∂–Ω–æ</span>
    <span *ngSwitchDefault>‚ö™ –ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ</span>
  </span>

  <div class="comments">
    <h3>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏:</h3>
    <ul>
      <li *ngFor="let comment of comments">{{ comment }}</li>
    </ul>
  </div>

  <form (ngSubmit)="addComment()" #commentForm="ngForm">
    <h3>–û—Å—Ç–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</h3>

    <div class="form-group" [class.invalid]="userName.length < 2">
      <label>–ò–º—è</label>
      <input
        type="text"
        [(ngModel)]="userName"
        name="userName"
        required
        minlength="2" />
      <div class="error-message" *ngIf="userName.length > 0 && userName.length < 2">
        –ú–∏–Ω–∏–º—É–º 2 —Å–∏–º–≤–æ–ª–∞
      </div>
    </div>

    <div class="form-group" [class.invalid]="!newComment.trim()">
      <label>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</label>
      <textarea
        [(ngModel)]="newComment"
        name="newComment"
        required>
      </textarea>
      <div class="error-message" *ngIf="!newComment.trim()">–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ</div>
    </div>

    <div class="form-group" [class.invalid]="rating === null || rating < 1 || rating > 5">
      <label>–û—Ü–µ–Ω–∫–∞ (1‚Äì5)</label>
      <input
        type="number"
        [(ngModel)]="rating"
        name="rating"
        min="1"
        max="5"
        required />
      <div class="error-message" *ngIf="rating !== null && (rating < 1 || rating > 5)">
        –í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ –æ—Ç 1 –¥–æ 5
      </div>
    </div>

    <div class="form-group" [class.invalid]="!isEmailValid">
      <label>Email</label>
      <input
        type="email"
        [(ngModel)]="email"
        name="email"
        required
        (blur)="validateEmail()" />
      <div class="error-message" *ngIf="!isEmailValid">–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email</div>
    </div>

    <div class="form-group" [class.invalid]="!isPhoneValid">
      <label>–¢–µ–ª–µ—Ñ–æ–Ω</label>
      <input
        type="tel"
        [(ngModel)]="phone"
        name="phone"
        required
        (blur)="validatePhone()" />
      <div class="error-message" *ngIf="!isPhoneValid">–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –Ω–æ–º–µ—Ä</div>
    </div>

    <div class="form-group" [class.invalid]="!birthDate">
      <label>–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è</label>
      <input
        type="date"
        [(ngModel)]="birthDate"
        name="birthDate"
        required />
      <div class="error-message" *ngIf="!birthDate">–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ</div>
    </div>

    <button type="submit" [disabled]="commentForm.invalid" class="add-comment-btn">
      –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
    </button>
  </form>
</div>


